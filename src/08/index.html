<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,viewport-fit=cover" />
    <title></title>
    <link rel="stylesheet" href="css/style.min.css" />
</head>

<body>
    <div style="position: fixed; right: 0; bottom: 0; left: 0; z-index: 12;display: flex;">
            <a id="pdfBtn" class="resume-link" href="javascript:;" style="background-color: #313131;">生成PDF</a>
        </div>
    <div id="html-canvas" style="position: relative; background-color: #cdcdcd; margin: 0 auto; min-width: 1240px; width: 1240px; overflow: hidden;">
        <div class="bg">
            <div class="resume-header">
                <div class="resume-header__hd">
                    <img class="avatar" src="images/pic.png">
                </div>
                <div class="resume-header__bd">
                    <h1>PERSONAL RESUME</h1>
                    <h3>我的个人简历</h3>
                    <p>
                        <span><i class="icon icon-s12"></i>15967623456</span>
                        <span><i class="icon icon-s11"></i>15967623456@qq.com</span>
                    </p>
                </div>
            </div>
            <div style="display: flex; margin-top: 5em; padding: 1.5em; background-color: #fff;">
                <div style="flex:1; margin-right: 1em;">
                    <!-- 介绍 -->
                    <div class="bd" style="background-color: #313131;">
                        <div class="resume-info dark">
                            <h1>王海涛</h1>
                            <p>
                                本人英语水平良好，能翻译及处理各种对外英文书信，能运用书面或口语与外商客房交流及商谈相关业务。本人熟悉电子商务的运作，能运用网络开展出口销售工作并获取国外买家的订单。本人参加过多次广交会，熟悉对外销售及拓展对外业务的方法，有良好的寻商渠道及开拓国外客户、市场的本事。本人积累有充足的日用品、礼品等方面的客户资源，并与部分欧美买家建立良好的业务关系。有实现“有产品即可有客户”的业绩的方法及本事!
                            </p>
                        </div>
                    </div>
                    <!-- 求职意向 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s1"><span class="path1"></span><span class="path2"></span><span
                                    class="path3"></span></span>
                            <h1>求职意向<small>Job intention</small></h1>
                        </div>
                        <div class="resume-info">
                            <ul>
                                <li>岗位 / 网页设计师，UI设计师，质检 组希望以后有好的发展</li>
                                <li>工作地点 / 椒江区、路桥区、黄岩区、温岭市</li>
                                <li>工作类型 / 全职、兼职、实习 期望薪资 / 7000-8000元/月</li>
                            </ul>
                        </div>
                    </div>
                    <!-- 基础资料 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s2"><span class="path1"></span><span class="path2"></span></span>
                            <h1>基础资料<small>Basic information</small></h1>
                        </div>
                        <div class="resume-info">
                            <ul>
                                <li>户籍 / 浙江-台州-玉环县</li>
                                <li>现居地 / 椒江 专业 / 视觉传达</li>
                                <li>政治面貌 / 群众</li>
                                <li>身高 / 170cm</li>
                                <li>体重 / 50kg</li>
                                <li>名族 / 汉族</li>
                            </ul>
                        </div>
                    </div>
                    <!-- 工作经历 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s4"><span class="path1"></span><span class="path2"></span></span>
                            <h1>工作经历<small>Work experience</small></h1>
                        </div>
                        <div>
                            <div class="resume-list">
                                <h3 class="dark">任职公司的全称</h3>
                                <p>
                                    <span>平面设计师，UI设计师</span>
                                    <span class="time" style="color: #7d7d7d;">2014.09 至 2015.08</span>
                                </p>
                            </div>
                            <div class="resume-list">
                                <h3 class="dark">任职公司的全称</h3>
                                <p>
                                    <span>平面设计师，UI设计师</span>
                                    <span class="time" style="color: #7d7d7d;">2014.09 至 2015.08</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="flex:1">
                    <!-- 教育经历 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s5"><span class="path1"></span><span class="path2"></span></span>
                            <h1>教育经历<small>Education experience</small></h1>
                        </div>
                        <div>
                            <div class="resume-list flex">
                                <h3>北京大学 XXX院 XXX系 研究生二在读</h3>
                                <span class="time">2014.09 至 2015.08</span>
                            </div>
                            <div class="resume-list flex">
                                <h3>北京大学 XXX院 XXX系 研究生二在读</h3>
                                <span class="time">2014.09 至 2015.08</span>
                            </div>
                        </div>
                    </div>
                    <!-- 项目经验 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s6"><span class="path1"></span><span class="path2"></span></span>
                            <h1>项目经验<small>Project experience</small></h1>
                        </div>
                        <div>
                            <div class="resume-list">
                                <p>
                                    <span class="time">2014.09 至 2015.08</span>
                                </p>
                                <h3>任职项目 / 参与职位 / 工作内容</h3>
                            </div>
                            <div class="resume-list">
                                <p>
                                    <span class="time">2014.09 至 2015.08</span>
                                </p>
                                <h3>任职项目 / 参与职位 / 工作内容工作内容工作内容工作内容工作内容工作内容工作内容工作内容</h3>
                            </div>
                        </div>
                    </div>
                    <!-- 技能特长 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s7"><span class="path1"></span><span class="path2"></span></span>
                            <h1>技能特长<small>Skills experience</small></h1>
                        </div>
                        <div class="resume-list" style="margin-top: 0;">
                            <ul class="flex">
                                <li><span>精通</span>
                                    <p>工作内容工作内容工作内容工作内容工作内容工作内容工作内容工作内容</p>
                                </li>
                                <li><span>精通</span>
                                    <p>AI</p>
                                </li>
                                <li><span>精通</span>
                                    <p>PE</p>
                                </li>
                                <li><span>精通</span>
                                    <p>PE</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- 语言能力 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s9"><span class="path1"></span><span class="path2"></span></span>
                            <h1>语言能力<small>Language ability</small></h1>
                        </div>
                        <div class="resume-list" style="margin-top: 0;">
                            <ul>
                                <li>西班牙语 / 熟练 / 专业西班牙语四级</li>
                                <li>英语 / 熟练 / 大学英语四级</li>
                                <li>日语 / 入门 / 大学日语四级</li>
                            </ul>
                        </div>
                    </div>
                    <!-- 我的证书 -->
                    <div class="bd">
                        <div class="title">
                            <span class="icon icon-s10"><span class="path1"></span><span class="path2"></span></span>
                            <h1>我的证书<small>Certificate</small></h1>
                        </div>
                        <div>
                            <div class="resume-list flex">
                                <h3>大学英语四级</h3>
                                <span class="time">2014.09获得</span>
                            </div>
                            <div class="resume-list flex">
                                <h3>大学英语四级</h3>
                                <span class="time">2014.09获得</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="canvasImg"></div>
    <script src="js/jquery.min.js"></script>
    <script src="js/jspdf.min.js"></script>
    <script src="js/html2canvas.min.js"></script>
    <script>
        // IMG
        html2canvas(document.querySelector("#html-canvas")).then(canvas => {
            document.body.appendChild(canvas);
            
            // $("#html-canvas").css({ display: 'none' });
            // var image = document.createElement("img");
            // image.src = canvas.toDataURL("image/png");
            // document.getElementById("canvasImg").appendChild(image)
        });
        // PDF
        $("#pdfBtn").click(function () {
            var html = document.getElementById("html-canvas");
            var contentWidth = html.offsetWidth; //获取dom 宽度
            var contentHeight = html.offsetHeight; //获取dom 高度
            var canvas = document.createElement('canvas');

            var scale = 2; //定义任意放大倍数 支持小数
            canvas.width = contentWidth * scale; //定义canvas 宽度 * 缩放
            canvas.height = contentHeight * scale; //定义canvas高度 *缩放
            canvas.getContext('2d').scale(1, 1);

            var opts = {
                scale: scale,
                canvas: canvas,
                width: contentWidth,
                height: contentHeight,
                useCORS: true
            };

            html2canvas(html, opts).then(function (canvas) {
                var pageData = canvas.toDataURL('image/JPEG', 1.0) // 清晰度 0 - 1


                //一页pdf显示html页面生成的canvas高度;
                var pageHeight = contentWidth / 592.28 * 841.89;
                //未生成pdf的html页面高度
                var leftHeight = contentHeight;
                //页面偏移
                var position = 0;
                //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高
                var imgWidth = 595.28;
                var imgHeight = 592.28 / contentWidth * contentHeight;

                var pdf = new jsPDF('', 'pt', 'a4');

                //有两个高度需要区分，一个是html页面的实际高度，和生成pdf的页面高度(841.89)
                //当内容未超过pdf一页显示的范围，无需分页
                if (leftHeight < pageHeight) {
                    pdf.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight);
                } else {
                    while (leftHeight > 0) {
                        pdf.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)
                        leftHeight -= pageHeight;
                        position -= 841.89;
                        //避免添加空白页
                        if (leftHeight > 0) {
                            pdf.addPage();
                        }
                    }
                }

                pdf.save("content.pdf");

            })

        })
    </script>
</body>

</html>