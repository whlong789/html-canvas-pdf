<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,viewport-fit=cover" />
    <title></title>
    <link rel="stylesheet" href="css/style2.min.css" />
</head>

<body>
    <a id="links" class="resume-link" href="javascript:;" style="background-color: #313131;">生成</a>
    <div id="html-canvas" style="display: flex; margin: 0 auto; padding: 0 20px 100px; width: 980px;">
        <div style="padding-top: 200px; flex: 0 0 240px; background-color:#0d0d0d;">
            <img class="avatar" src="images/pic.png" />
            <div class="resume-info">
                <h1><strong>王海涛</strong></h1>
                <h3>15967623456</h3>
                <h4>求职意向<small>Job intention</small></h4>
                <ul>
                    <li>岗位 / 网页设计师，UI设计师，质检 组希望以后有好的发展</li>
                    <li>工作地点 / 椒江区、路桥区、黄岩区、温岭市</li>
                    <li>工作类型 / 全职、兼职、实习 期望薪资 / 7000-8000元/月</li>
                </ul>
                <h4>基础资料<small>Basic information</small></h4>
                <ul>
                    <li>户籍 / 浙江-台州-玉环县</li>
                    <li>现居地 / 椒江 专业 / 视觉传达</li>
                    <li>政治面貌 / 群众</li>
                    <li>身高 / 170cm</li>
                    <li>体重 / 50kg</li>
                    <li>名族 / 汉族</li>
                </ul>
                <h4>个人介绍<small>Self-evaluation</small></h4>
                <p>本人英语水平良好，能翻译及处理各种对外英文书信，能运用书面或口语与外商客房交流及商谈相关业务。本人熟悉电子商务的运作，能运用网络开展出口销售工作并获取国外买家的订单。本人参加过多次广交会，熟悉对外销售及拓展对外业务的方法，有良好的寻商渠道及开拓国外客户、市场的本事。本人积累有充足的日用品、礼品等方面的客户资源，并与部分欧美买家建立良好的业务关系。有实现“有产品即可有客户”的业绩的方法及本事!
                </p>
            </div>
        </div>
        <div style="margin-left: 60px; padding-top: 40px; flex: 1">

            <div class="resume-header">
                <h1>PERSONAL RESUME</h1>
                <h2>个人简历</h2>
            </div>
            <!-- 工作经历 -->
            <div class="title">
                <i class="icon icon-s1"></i>
                <h1>工作经历<small>Work experience</small></h1>
            </div>
            <div>
                <div class="resume-list">
                    <h3>任职公司的全称</h3>
                    <p>
                        <span>平面设计师，UI设计师</span>
                        <span class="time">2014.09 至 2015.08</span>
                    </p>
                </div>
                <div class="resume-list">
                    <h3>任职公司的全称</h3>
                    <p>
                        <span>平面设计师，UI设计师</span>
                        <span class="time">2014.09 至 2015.08</span>
                    </p>
                </div>
            </div>
            <hr />
            <!-- 教育经历 -->
            <div class="title">
                <i class="icon icon-s2"></i>
                <h1>教育经历<small>Education experience</small></h1>
            </div>
            <div>
                <div class="resume-list flex">
                    <h3>北京大学 XXX院 XXX系 研究生二在读</h3>
                    <span class="time">2014.09 至 2015.08</span>
                </div>
                <div class="resume-list flex">
                    <h3>北京大学 XXX院 XXX系 研究生二在读</h3>
                    <span class="time">2014.09 至 2015.08</span>
                </div>
            </div>
            <hr />
            <!-- 项目经验 -->
            <div class="title">
                <i class="icon icon-s3"></i>
                <h1>项目经验<small>Project experience</small></h1>
            </div>
            <div>
                <div class="resume-list">
                    <h3>任职项目的全称</h3>
                    <p>
                        <span>参与的职位与工作内容相关介绍</span>
                        <span class="time">2014.09 至 2015.08</span>
                    </p>
                </div>
                <div class="resume-list">
                    <h3>任职项目的全称</h3>
                    <p>
                        <span>参与的职位与工作内容相关介绍</span>
                        <span class="time">2014.09 至 2015.08</span>
                    </p>
                </div>
            </div>

            <hr />
            <!-- 技能特长 -->
            <div class="title">
                <i class="icon icon-s4"></i>
                <h1>技能特长<small>Skills expertise</small></h1>
            </div>
            <div class="resume-list flex-50">
                <ul>
                    <li><strong>Final Cut Pro / 精通</strong></li>
                    <li><strong>CoreDraw / 精通</strong></li>
                    <li><strong>Final Cut Pro / 精通</strong></li>
                </ul>
            </div>
            <hr />
            <!-- 语言能力 -->
            <div class="title">
                <i class="icon icon-s5"></i>
                <h1>语言能力<small>Language ability</small></h1>
            </div>
            <div class="resume-list">
                <ul>
                    <li><strong>西班牙语 / 熟练 / 专业西班牙语四级</strong></li>
                    <li><strong>英语 / 熟练 / 大学英语四级</strong></li>
                    <li><strong>日语 / 入门 / 大学日语四级</strong></li>
                </ul>
            </div>
            <hr />
            <!-- 我的证书 -->
            <div class="title">
                <i class="icon icon-s6"></i>
                <h1>我的证书<small>Certificate</small></h1>
            </div>
            <div>
                <div class="resume-list flex">
                    <h3>大学英语四级</h3>
                    <span class="time">2014.09获得</span>
                </div>
                <div class="resume-list flex">
                    <h3>大学英语四级</h3>
                    <span class="time">2014.09获得</span>
                </div>
            </div>
            <hr />
            <!-- 我的作品 -->
            <div class="title">
                <i class="icon icon-s7"></i>
                <h1>我的作品<small>My works</small></h1>
            </div>
            <div class="resume-pic">
                <h3>我制作的手工杯子</h3>
                <div>
                    <img src="https://images.tzrl.com/File/20200826111856283.jpg" />
                </div>
                <h3>我制作的手工杯子</h3>
                <div>
                    <img src="images/2.jpg" />
                </div>
            </div>

        </div>
    </div>
    <div id="canvasImg"></div>
    <script src="js/jquery.min.js"></script>
    <script src="js/jspdf.min.js"></script>
    <script src="js/html2canvas.js"></script>
    <script>
        // IMG
        html2canvas(document.querySelector("#html-canvas")).then(canvas => {
            document.body.appendChild(canvas);
            // $("#html-canvas").css({ display: 'none' });
            var image = document.createElement("img");
            image.src = canvas.toDataURL("image/png");
            document.getElementById("canvasImg").appendChild(image)
        });



        // PDF
        var realHtml = document.getElementById("html-canvas");
        var contentWidth = realHtml.offsetWidth; //获取dom 宽度
        var contentHeight = realHtml.offsetHeight; //获取dom 高度
        var canvas = document.createElement('canvas');

        var scale = 2; //定义任意放大倍数 支持小数
        canvas.width = contentWidth * scale; //定义canvas 宽度 * 缩放
        canvas.height = contentHeight * scale; //定义canvas高度 *缩放
        canvas.getContext('2d').scale(1, 1);

        var opts = {
            scale: scale,
            canvas: canvas,
            width: contentWidth,
            height: contentHeight,
            useCORS: true
        };

        $("#links").click(function () {
            html2canvas(realHtml, opts).then(function (canvas) {
                var pageData = canvas.toDataURL('image/JPEG', 1.0) // 清晰度 0 - 1
                var pdf;
                // var isOne = 1;

                // if (isOne) {
                //     // 单页
                // console.log(contentWidth, 'contentWidth')
                // console.log(contentHeight, 'contentHeight')

                // jspdf.js 插件对单页面的最大宽高限制 为 14400
                // var limit = 14400

                // if (contentHeight > limit) {
                //     var contentScale = limit / contentHeight
                //     contentHeight = limit
                //     contentWidth = contentScale * contentWidth
                // }

                // var orientation = 'p'
                // // 在 jspdf 源码里，如果是 orientation = 'p' 且 width > height 时， 会把 width 和 height 值交换，
                // // 类似于 把 orientation 的值修改为 'l' , 反之亦同。
                // if (contentWidth > contentHeight) {
                //     orientation = 'l'
                // }

                // // orientation Possible values are "portrait" or "landscape" (or shortcuts "p" or "l")
                // pdf = new jsPDF(orientation, 'pt', [contentWidth, contentHeight]) // 下载尺寸 a4 纸 比例

                // // pdf.addImage(pageData, 'JPEG', 左，上，宽度，高度)设置
                // pdf.addImage(pageData, 'JPEG', 0, 0, contentWidth, contentHeight)

                // } else {

                var pageHeight = (contentWidth / 552.28) * 841.89
                var leftHeight = contentHeight
                //页面偏移
                var position = 0
                //a4纸的尺寸[595.28,841.89]，html 页面生成的 canvas 在pdf中图片的宽高
                var imgWidth = 555.28
                var imgHeight = (imgWidth / contentWidth) * contentHeight

                pdf = new jsPDF('', 'pt', 'a4') // 下载尺寸 a4 纸 比例
                //有两个高度需要区分，一个是html页面的实际高度，和生成pdf的页面高度(841.89)
                //当内容未超过pdf一页显示的范围，无需分页
                if (leftHeight < pageHeight) {
                    pdf.addImage(pageData, 'JPEG', 20, 0, imgWidth, imgHeight)
                } else {
                    while (leftHeight > 0) {
                        pdf.addImage(pageData, 'JPEG', 20, position, imgWidth, imgHeight)
                        leftHeight -= pageHeight
                        position -= 841.89
                        //避免添加空白页
                        if (leftHeight > 0) {
                            pdf.addPage()
                        }
                    }
                }
                // }
                pdf.save('Test.pdf');
                // return pdf
            });
        })


    </script>
</body>

</html>